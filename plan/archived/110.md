# Issue #110: 正五角形シーン（5 頂点）を追加する

## Issueスナップショット
- URL: https://github.com/soma-arc/hyperbolic-plane-tile-poc/issues/110
- ラベル想定: type:task, area:ui

### 目的
正五角形を構成する半平面シーンを追加し、各頂点を制御点としてドラッグできるようにする。初期状態は原点中心の正五角形、ドラッグ後は一般五角形への変形を許容する。

### In / Out
- In: 正五角形シーン定義、共有制御点グラフ再利用、Storybook ストーリー/Play、奇数頂点特有の順序性を確認するテスト。
- Out: 6 頂点以降のシーン、視覚表現の追加要素（色分け等）。

### 完了条件 (DoD)
- [ ] 正五角形シーンが SceneDefinition に登録され UI/Storybook から選択可能。
- [ ] 頂点ドラッグで隣接 2 半平面だけが更新され、共有制御点 ID が崩れない。
- [ ] 初期状態は原点中心・等間隔 72° の正五角形。
- [ ] ユニット/プロパティテストで時計回り・反時計回りの頂点循環双方に対応できることを確認。
- [ ] Storybook Play テストで任意の頂点ドラッグ→戻す操作が自動化される。

### テスト観点
- 共有制御点の循環順序が奇数頂点でも正しく維持されるか。
- 頂点ドラッグ後に非対象頂点が移動しないこと。

---

## 実装ステップ
1. **正五角形用定義の追加**
   - Issue #109 で導入した正多角形ユーティリティを利用し、頂点数 5 のデータセットを生成。
   - SceneDefinition に `regularPentagonScene`（仮）を追加し、App/Storybook のセレクタへ登録。
2. **ドラッグロジックの拡張テスト**
   - 頂点の循環参照が奇数個でも破綻しないか検証し、必要なら更新ロジックに時計回り／反時計回りの考慮を追加。
   - 隣接半平面の向きが逆転しないよう、法線の正規化手順を共通化。
3. **ユニット/プロパティテスト追加**
   - 頂点ドラッグ時に関連 2 半平面のみが更新されるテスト。
   - fast-check を用いてランダム頂点選択でドラッグ→戻しを繰り返すプロパティテストを検討。
4. **Storybook 整備**
   - 正五角形シーンの CSF3 ストーリーを追加し、Docs に操作説明を記述。
   - Play テストでは 1 頂点をドラッグし、2 本の半平面が頂点を共有し続けることを確認。
5. **残件確認**
   - 多角形の辺の重なりやクリックしづらさが確認された場合は TODO に記録し、後続 Issue で扱う。

## リスク・留意点
- 奇数頂点で頂点順序を間違えると共有先がずれて半平面が崩壊するため、データ構造初期化時にソートとインデックスを明示。
- Storybook Play では頂点取得のための selector が N=5 でも安定するか確認し、必要なら `data-testid` を付与。

## オープンクエスチョン
- なし（ユーザー回答で仕様確定済み）。
